<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>metagpt.predictors.predictor_state API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>metagpt.predictors.predictor_state</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation"><code class="flex name class">
<span>class <span class="ident">AddReplaceTestOperation</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Usage docs: <a href="https://docs.pydantic.dev/2.7/concepts/models/">https://docs.pydantic.dev/2.7/concepts/models/</a></p>
<p>A base class for creating Pydantic models.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>__class_vars__</code></strong></dt>
<dd>The names of classvars defined on the model.</dd>
<dt><strong><code>__private_attributes__</code></strong></dt>
<dd>Metadata about the private attributes of the model.</dd>
<dt><strong><code>__signature__</code></strong></dt>
<dd>The signature for instantiating the model.</dd>
<dt><strong><code>__pydantic_complete__</code></strong></dt>
<dd>Whether model building is completed, or if there are still undefined fields.</dd>
<dt><strong><code>__pydantic_core_schema__</code></strong></dt>
<dd>The pydantic-core schema used to build the SchemaValidator and SchemaSerializer.</dd>
<dt><strong><code>__pydantic_custom_init__</code></strong></dt>
<dd>Whether the model has a custom <code>__init__</code> function.</dd>
<dt><strong><code>__pydantic_decorators__</code></strong></dt>
<dd>Metadata containing the decorators defined on the model.
This replaces <code>Model.__validators__</code> and <code>Model.__root_validators__</code> from Pydantic V1.</dd>
<dt><strong><code>__pydantic_generic_metadata__</code></strong></dt>
<dd>Metadata for generic models; contains data used for a similar purpose to
<strong>args</strong>, <strong>origin</strong>, <strong>parameters</strong> in typing-module generics. May eventually be replaced by these.</dd>
<dt><strong><code>__pydantic_parent_namespace__</code></strong></dt>
<dd>Parent namespace of the model, used for automatic rebuilding of models.</dd>
<dt><strong><code>__pydantic_post_init__</code></strong></dt>
<dd>The name of the post-init method for the model, if defined.</dd>
<dt><strong><code>__pydantic_root_model__</code></strong></dt>
<dd>Whether the model is a <code>RootModel</code>.</dd>
<dt><strong><code>__pydantic_serializer__</code></strong></dt>
<dd>The pydantic-core SchemaSerializer used to dump instances of the model.</dd>
<dt><strong><code>__pydantic_validator__</code></strong></dt>
<dd>The pydantic-core SchemaValidator used to validate instances of the model.</dd>
<dt><strong><code>__pydantic_extra__</code></strong></dt>
<dd>An instance attribute with the values of extra fields from validation when
<code>model_config['extra'] == 'allow'</code>.</dd>
<dt><strong><code>__pydantic_fields_set__</code></strong></dt>
<dd>An instance attribute with the names of fields explicitly set.</dd>
<dt><strong><code>__pydantic_private__</code></strong></dt>
<dd>Instance attribute with the values of private attributes set on the model instance.</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AddReplaceTestOperation(BaseModel):
    
    op: Literal[&#34;add&#34;, &#34;replace&#34;, &#34;test&#34;]
    path: str = Field(..., description=&#34;A JSON Pointer path.&#34;)
    value: Any = Field(..., description=&#34;The value to add, replace or test.&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_computed_fields"><code class="name">var <span class="ident">model_computed_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_fields"><code class="name">var <span class="ident">model_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.op"><code class="name">var <span class="ident">op</span> : Literal['add', 'replace', 'test']</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.AddReplaceTestOperation.value"><code class="name">var <span class="ident">value</span> : Any</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="metagpt.predictors.predictor_state.JsonPatch"><code class="flex name class">
<span>class <span class="ident">JsonPatch</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Usage docs: <a href="https://docs.pydantic.dev/2.7/concepts/models/">https://docs.pydantic.dev/2.7/concepts/models/</a></p>
<p>A base class for creating Pydantic models.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>__class_vars__</code></strong></dt>
<dd>The names of classvars defined on the model.</dd>
<dt><strong><code>__private_attributes__</code></strong></dt>
<dd>Metadata about the private attributes of the model.</dd>
<dt><strong><code>__signature__</code></strong></dt>
<dd>The signature for instantiating the model.</dd>
<dt><strong><code>__pydantic_complete__</code></strong></dt>
<dd>Whether model building is completed, or if there are still undefined fields.</dd>
<dt><strong><code>__pydantic_core_schema__</code></strong></dt>
<dd>The pydantic-core schema used to build the SchemaValidator and SchemaSerializer.</dd>
<dt><strong><code>__pydantic_custom_init__</code></strong></dt>
<dd>Whether the model has a custom <code>__init__</code> function.</dd>
<dt><strong><code>__pydantic_decorators__</code></strong></dt>
<dd>Metadata containing the decorators defined on the model.
This replaces <code>Model.__validators__</code> and <code>Model.__root_validators__</code> from Pydantic V1.</dd>
<dt><strong><code>__pydantic_generic_metadata__</code></strong></dt>
<dd>Metadata for generic models; contains data used for a similar purpose to
<strong>args</strong>, <strong>origin</strong>, <strong>parameters</strong> in typing-module generics. May eventually be replaced by these.</dd>
<dt><strong><code>__pydantic_parent_namespace__</code></strong></dt>
<dd>Parent namespace of the model, used for automatic rebuilding of models.</dd>
<dt><strong><code>__pydantic_post_init__</code></strong></dt>
<dd>The name of the post-init method for the model, if defined.</dd>
<dt><strong><code>__pydantic_root_model__</code></strong></dt>
<dd>Whether the model is a <code>RootModel</code>.</dd>
<dt><strong><code>__pydantic_serializer__</code></strong></dt>
<dd>The pydantic-core SchemaSerializer used to dump instances of the model.</dd>
<dt><strong><code>__pydantic_validator__</code></strong></dt>
<dd>The pydantic-core SchemaValidator used to validate instances of the model.</dd>
<dt><strong><code>__pydantic_extra__</code></strong></dt>
<dd>An instance attribute with the values of extra fields from validation when
<code>model_config['extra'] == 'allow'</code>.</dd>
<dt><strong><code>__pydantic_fields_set__</code></strong></dt>
<dd>An instance attribute with the names of fields explicitly set.</dd>
<dt><strong><code>__pydantic_private__</code></strong></dt>
<dd>Instance attribute with the values of private attributes set on the model instance.</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class JsonPatch(BaseModel):
    root: List[Union[AddReplaceTestOperation, RemoveOperation, MoveCopyOperation]]

    class Config:
        title = &#34;JSON schema for JSONPatch files&#34;
        json_schema_extra = {
            &#34;$schema&#34;: &#34;http://json-schema.org/draft-04/schema#&#34;,
            &#34;id&#34;: &#34;https://json.schemastore.org/json-patch.json&#34;,
        }</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.JsonPatch.Config"><code class="name">var <span class="ident">Config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.JsonPatch.model_computed_fields"><code class="name">var <span class="ident">model_computed_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.JsonPatch.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.JsonPatch.model_fields"><code class="name">var <span class="ident">model_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.JsonPatch.root"><code class="name">var <span class="ident">root</span> : List[Union[<a title="metagpt.predictors.predictor_state.AddReplaceTestOperation" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation">AddReplaceTestOperation</a>, <a title="metagpt.predictors.predictor_state.RemoveOperation" href="#metagpt.predictors.predictor_state.RemoveOperation">RemoveOperation</a>, <a title="metagpt.predictors.predictor_state.MoveCopyOperation" href="#metagpt.predictors.predictor_state.MoveCopyOperation">MoveCopyOperation</a>]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation"><code class="flex name class">
<span>class <span class="ident">MoveCopyOperation</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Usage docs: <a href="https://docs.pydantic.dev/2.7/concepts/models/">https://docs.pydantic.dev/2.7/concepts/models/</a></p>
<p>A base class for creating Pydantic models.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>__class_vars__</code></strong></dt>
<dd>The names of classvars defined on the model.</dd>
<dt><strong><code>__private_attributes__</code></strong></dt>
<dd>Metadata about the private attributes of the model.</dd>
<dt><strong><code>__signature__</code></strong></dt>
<dd>The signature for instantiating the model.</dd>
<dt><strong><code>__pydantic_complete__</code></strong></dt>
<dd>Whether model building is completed, or if there are still undefined fields.</dd>
<dt><strong><code>__pydantic_core_schema__</code></strong></dt>
<dd>The pydantic-core schema used to build the SchemaValidator and SchemaSerializer.</dd>
<dt><strong><code>__pydantic_custom_init__</code></strong></dt>
<dd>Whether the model has a custom <code>__init__</code> function.</dd>
<dt><strong><code>__pydantic_decorators__</code></strong></dt>
<dd>Metadata containing the decorators defined on the model.
This replaces <code>Model.__validators__</code> and <code>Model.__root_validators__</code> from Pydantic V1.</dd>
<dt><strong><code>__pydantic_generic_metadata__</code></strong></dt>
<dd>Metadata for generic models; contains data used for a similar purpose to
<strong>args</strong>, <strong>origin</strong>, <strong>parameters</strong> in typing-module generics. May eventually be replaced by these.</dd>
<dt><strong><code>__pydantic_parent_namespace__</code></strong></dt>
<dd>Parent namespace of the model, used for automatic rebuilding of models.</dd>
<dt><strong><code>__pydantic_post_init__</code></strong></dt>
<dd>The name of the post-init method for the model, if defined.</dd>
<dt><strong><code>__pydantic_root_model__</code></strong></dt>
<dd>Whether the model is a <code>RootModel</code>.</dd>
<dt><strong><code>__pydantic_serializer__</code></strong></dt>
<dd>The pydantic-core SchemaSerializer used to dump instances of the model.</dd>
<dt><strong><code>__pydantic_validator__</code></strong></dt>
<dd>The pydantic-core SchemaValidator used to validate instances of the model.</dd>
<dt><strong><code>__pydantic_extra__</code></strong></dt>
<dd>An instance attribute with the values of extra fields from validation when
<code>model_config['extra'] == 'allow'</code>.</dd>
<dt><strong><code>__pydantic_fields_set__</code></strong></dt>
<dd>An instance attribute with the names of fields explicitly set.</dd>
<dt><strong><code>__pydantic_private__</code></strong></dt>
<dd>Instance attribute with the values of private attributes set on the model instance.</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MoveCopyOperation(BaseModel):
    op: Literal[&#34;move&#34;, &#34;copy&#34;]
    path: str = Field(..., description=&#34;A JSON Pointer path.&#34;)
    from_: str = Field(..., alias=&#34;from&#34;, description=&#34;A JSON Pointer path pointing to the location to move/copy from.&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.from_"><code class="name">var <span class="ident">from_</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.model_computed_fields"><code class="name">var <span class="ident">model_computed_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.model_fields"><code class="name">var <span class="ident">model_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.op"><code class="name">var <span class="ident">op</span> : Literal['move', 'copy']</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.MoveCopyOperation.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="metagpt.predictors.predictor_state.PredictorState"><code class="flex name class">
<span>class <span class="ident">PredictorState</span></span>
<span>(</span><span>raw_meta: str, state: pydantic.main.BaseModel = None)</span>
</code></dt>
<dd>
<div class="desc"><p>TODO: Add docstring</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PredictorState(PredictorTemplate):
    &#34;&#34;&#34;
    TODO: Add docstring
    &#34;&#34;&#34;
    def __init__(self, raw_meta: str, state:BaseModel=None) -&gt; None:
        super().__init__()
        if state is None:
            state = OME()
        self.state = state
        self.json_patches = &#34;No Patch has been generated yet.&#34;
        self.last_error = &#34;No error was thrown yet.&#34;
        self.raw_metadata = raw_meta
        self.full_message = f&#34;&#34;&#34;
        The raw data is: \n&#34; {str(self.raw_metadata)} \n please predict the metaddata for the {type(self.state)} object.
        In a previous attempt the following json patches were generated: {self.json_patches} and the following error was
        returned: {self.last_error}. Try to correct the mistake and generate a valid json patch.
        &#34;&#34;&#34;
        self.current_state_documentation = f&#34;&#34;&#34;
        Here is the schema to the respective state object, this is what you are supposed to predict:
        {utils.browse_schema(self.state.__class__, max_depth=1)}
        &#34;&#34;&#34;
        self.current_state_message = &#34;The current state is: \n&#34; + self.state.model_dump_json() + &#34;You can think of this as your starting point from which you are supposed to expand.&#34;

        self.json_patch_examples = &#34;&#34;&#34;

        # Example State, created for you with the ome_types python library
        pixel = Pixels(
                    size_x=1024,
                    size_y=768,
                    size_t=1,
                    size_c=1,
                    size_z=1, 
                    dimension_order=&#34;XYZCT&#34;,
                    type=&#34;uint8&#34;,
                    channels=[{&#34;id&#34;: &#34;Channel:0&#34;, &#34;name&#34;: &#34;Red&#34;},
                                {&#34;id&#34;: &#34;Channel:1&#34;, &#34;name&#34;: &#34;Green&#34;},
                                {&#34;id&#34;: &#34;Channel:3&#34;, &#34;name&#34;: &#34;Blue&#34;}])

        image = Image(name=&#34;Test Image&#34;, pixels=pixel)
        initial_state = OME(images=[image])

        # Example 1: Add operation
        patch1 = [
            {&#34;op&#34;: &#34;add&#34;, &#34;path&#34;: &#34;/images/0/description&#34;, &#34;value&#34;: &#34;A new description&#34;}
        ]

        # Example 2: Remove operation
        patch2 = [
            {&#34;op&#34;: &#34;remove&#34;, &#34;path&#34;: &#34;/images/0/pixels/channels/2&#34;}
        ]

        # Example 3: Replace operation
        patch3 = [
            {&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/images/0/name&#34;, &#34;value&#34;: &#34;Updated Image Name&#34;}
        ]
        
        # Example 4: Multiple operations in one patch
        patch4 = [
            {&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/images/0/pixels/size_x&#34;, &#34;value&#34;: 2048},
            {&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/images/0/pixels/size_y&#34;, &#34;value&#34;: 1536},
            {&#34;op&#34;: &#34;add&#34;, &#34;path&#34;: &#34;/images/0/pixels/channels/-&#34;, &#34;value&#34;: {&#34;id&#34;: &#34;Channel:3&#34;, &#34;name&#34;: &#34;Alpha&#34;}}
        ]

        # Example 5: Required and Nested actions
        patch5 = [
        {
            &#34;op&#34;: &#34;add&#34;,
            &#34;path&#34;: &#34;/images/-&#34;,
            &#34;value&#34;: {
            &#34;id&#34;: &#34;Image:0&#34;,
            &#34;name&#34;: &#34;New Image&#34;,
            &#34;acquisition_date&#34;: &#34;2024-07-21T12:00:00&#34;,
            &#34;pixels&#34;: {
                &#34;id&#34;: &#34;Pixels:0&#34;,
                &#34;type&#34;: &#34;uint16&#34;,
                &#34;dimension_order&#34;: &#34;XYZCT&#34;,
                &#34;size_x&#34;: 1024,
                &#34;size_y&#34;: 1024,
                &#34;size_z&#34;: 1,
                &#34;size_c&#34;: 3,
                &#34;size_t&#34;: 1,
                &#34;physical_size_x&#34;: 0.1,
                &#34;physical_size_x_unit&#34;: &#34;µm&#34;,
                &#34;physical_size_y&#34;: 0.1,
                &#34;physical_size_y_unit&#34;: &#34;µm&#34;,
                &#34;physical_size_z&#34;: 1.0,
                &#34;physical_size_z_unit&#34;: &#34;µm&#34;,
                &#34;channels&#34;: [
                {
                    &#34;id&#34;: &#34;Channel:0&#34;,
                    &#34;name&#34;: &#34;Red&#34;,
                    &#34;color&#34;: -16776961
                },
                {
                    &#34;id&#34;: &#34;Channel:1&#34;,
                    &#34;name&#34;: &#34;Green&#34;,
                    &#34;color&#34;: 16711935
                },
                {
                    &#34;id&#34;: &#34;Channel:2&#34;,
                    &#34;name&#34;: &#34;Blue&#34;,
                    &#34;color&#34;: 65535
                }
                ]
            }
            }
        }
        ]
        &#34;&#34;&#34;
        self.ome_types_doc = &#34;&#34;&#34;
        # Usage

        `ome_types` is useful for parsing the [OME-XML
        format](https://docs.openmicroscopy.org/ome-model/latest/ome-xml/) into
        Python objects for interactive or programmatic access in python. It can
        also take these Python objects and turn them back into OME-XML.

        For example, you can parse an ome.xml, and then explore it with pythonic
        `camel_case` syntax and readable object representations:

        ## Reading

        ``` python
        In [1]: from ome_types import from_xml

        In [2]: ome = from_xml(&#39;tests/data/hcs.ome.xml&#39;)  # or ome_types.OME.from_xml()
        ```

        [ome_types.from_xml][] returns an instance of [ome_types.OME][].
        This object is a container for all information objects accessible by OME.

        ``` python
        In [3]: ome
        Out[3]: 
        OME(
            images=[&lt;1 Images&gt;],
            plates=[&lt;1 Plates&gt;],
        )

        In [4]: ome.plates[0]
        Out[4]: 
        Plate(
            id=&#39;Plate:1&#39;,
            name=&#39;Control Plate&#39;,
            column_naming_convention=&#39;letter&#39;,
            columns=12,
            row_naming_convention=&#39;number&#39;,
            rows=8,
            wells=[&lt;1 Wells&gt;],
        )

        In [5]: ome.plates[0].wells[0]
        Out[5]: 
        Well(
            id=&#39;Well:1&#39;,
            column=0,
            row=0,
            well_samples=[&lt;1 Well_Samples&gt;],
        )

        In [6]: ome.images[0]
        Out[6]: 
        Image(
            id=&#39;Image:0&#39;,
            name=&#39;Series 1&#39;,
            pixels=Pixels(
                id=&#39;Pixels:0&#39;,
                dimension_order=&#39;XYCZT&#39;,
                size_c=3,
                size_t=16,
                size_x=1024,
                size_y=1024,
                size_z=1,
                type=&#39;uint16&#39;,
                bin_data=[&lt;1 Bin_Data&gt;],
                channels=[&lt;3 Channels&gt;],
                physical_size_x=0.207,
                physical_size_y=0.207,
                time_increment=120.1302,
            ),
            acquisition_date=datetime.fromisoformat(&#39;2008-02-06T13:43:19&#39;),
            description=&#39;An example OME compliant file, based on Olympus.oib&#39;,
        )

        In [7]: ome.images[0].pixels.channels[0]
        Out[7]: 
        Channel(
            id=&#39;Channel:0:0&#39;,
            name=&#39;CH1&#39;,
            acquisition_mode=&#39;LaserScanningConfocalMicroscopy&#39;,
            emission_wavelength=523.0,
            excitation_wavelength=488.0,
            illumination_type=&#39;Epifluorescence&#39;,
            pinhole_size=103.5,
            samples_per_pixel=1,
        )

        In [8]: ome.images[0].pixels.channels[0].emission_wavelength                                                                               
        Out[8]: 523.0
        ```

        ## Modifying or Creating

        The `OME` object is mutable, and you may make changes:

        ``` python
        In [9]: from ome_types.model import UnitsLength

        In [10]: from ome_types.model.channel import AcquisitionMode

        In [11]: ome.images[0].description = &#34;This is the new description.&#34;

        In [12]: ome.images[0].pixels.physical_size_x = 350.0

        In [13]: ome.images[0].pixels.physical_size_x_unit = UnitsLength.NANOMETER

        In [14]: for c in ome.images[0].pixels.channels:
                    c.acquisition_mode = AcquisitionMode.SPINNING_DISK_CONFOCAL
        ```

        And add elements by constructing new `OME` model objects:

        ``` python
        In [15]: from ome_types.model import Instrument, Microscope, Objective, InstrumentRef

        In [16]: microscope_mk4 = Microscope(
                    manufacturer=&#39;OME Instruments&#39;,
                    model=&#39;Lab Mk4&#39;,
                    serial_number=&#39;L4-5678&#39;,
                )

        In [17]: objective_40x = Objective(
                    manufacturer=&#39;OME Objectives&#39;,
                    model=&#39;40xAir&#39;,
                    nominal_magnification=40.0,
                )

        In [18]: instrument = Instrument(
                    microscope=microscope_mk4,
                    objectives=[objective_40x],
                )

        In [19]: ome.instruments.append(instrument)

        In [20]: ome.images[0].instrument_ref = InstrumentRef(instrument.id)

        In [21]: ome.instruments
        Out[21]:
        [Instrument(
            id=&#39;Instrument:1&#39;,
            microscope=Microscope(
            manufacturer=&#39;OME Instruments&#39;,
            model=&#39;Lab Mk4&#39;,
            serial_number=&#39;L4-5678&#39;,
            ),
            objectives=[&lt;1 Objectives&gt;],
        )]
        ```
        &#34;&#34;&#34;
        self.instructions = f&#34;&#34;&#34;
        To solve the task of genrating json patches from raw unstructured metadata,
        you are given several tools etc.
        First of you are updating a persistent state object, this helps you to
        update the state step by step. To do so you are provided the update_json_state
        function, which takes a list of json patches as input and updates the state object.
        Importantly you are not always given the OME state object, but only a part of it.
        This means you need to generate the json patches for the provided part of the schema.
        The paths in the patches are therefore relative to the provided state object.
        Make sure you dont add the full path to the state object, but only the path to the provided part of the schema.
        The json patches are structured as follows:
        {self.json_patch_examples}
        The ome_types OME object is structured slightly different from the default xml schema.
        Namely the properties are written lower case with underscores instead of camel case.
        Further Elements nodes such as image, pixels, channel etc. are collected as list of objects.
        Such as images, pixels, channels etc. in practise the element nodes therefore look as follows:
        images=[image1, image2, ...] furthermore properties such as the id and the top lvl attributes of the OME object such as Namespace, SchemaLocation etc.
        are genetated automatically by the ome_types library. DO NOT ADD OR CHANGE PROPERTIES SUCH AS THE ID. THESE ARE GENERATED AUTOMATICALLY.
        You need to remember this when generating the json patches.
        You can access specific elements in the respective lists by calling its index in the path.
        For example:
        /images/0/pixels/size_x
        would access the size_x property of the pixels object of the first image in the images list.
        To give you some additional information on how the ome_types library works, here is a short documentation:
        {self.ome_types_doc}
        Since the task is quite difficult I need you to work step by step and use chain of thought.
        Furthermore the task might be provided to you in multiple steps, which means you are only provided part of the schema (such as the subnode pixels).
        In that case you only need to generate the json patches for the provided part of the schema.
        Because of this pay extra attention to the state provided, and only generate the json patches for the provided part of the schema.
        For example if you are only provided the pixels state a patch to create the pixel could look like this:
        {&#39;{}&#39;}
        Here is a structure of how to approach the problem step by step:
        1. look at the schema, what propeties are there, which properties are required to generate the property in question?
        2. Look at the raw metadata, which properties could be related to the property in question?
        3. If the needed properties are not in the raw metadata, skip the property and exit without generating a patch.
        4. If the needed properties are the in the raw metadata, generate a minimal patch, that creates the property in question.
        Dont try to geneate a patch that inclued all properties at once, but work step by step.
        This way the automatic validation tool can give you feedback on each step.
        5. After each successful patch, the state will be updated and the result whill be provided to you for reference.
        6. If the patch was not successful, the state will not be updated and you will be asked to retry.
        You will also be provided with the error mesaage that was generated.
        Carefully study the error message and try to understand what went wrong, before attempting to retry.
        If you understood all of this, and will follow the instructions, answer with &#34;.&#34; and wait for the first metadata to be provided.
        &#34;&#34;&#34;
        self.description = &#34;&#34;&#34;
        You are OMEGPT, a toold designed to predict metadata for the OME model.
        More specifically you are suppose to generate json patches that will be
        used to update the ome_types OME data object.
        To solve the task you are given a set of key value pairs that represent
        raw unstructured metadat, which does not yet follow the ome schema.
        Your task is to figure out what the metadata could mean in the context
        of the OME schema.
        &#34;&#34;&#34;
        

    def predict(self, indent:Optional[int]=0) -&gt; str:
        &#34;&#34;&#34;
        TODO: Add docstring
        &#34;&#34;&#34;
        print(indent*&#34;  &#34;+f&#34;Predicting for {self.name}, attempt: {self.attempts}&#34;)
        print(self.state.model_dump_json())
        print(type(self.state))
        print(self.current_state_documentation)
        self.init_thread()
        self.init_vector_store()
        self.init_assistant()   
        self.init_run()
        response, cost = None, None

        try:
            self.add_attempts()
            response = self.run.required_action.submit_tool_outputs.tool_calls[0]
            response = ast.literal_eval(response.function.arguments)
            response = response[&#39;json_patches&#39;]
            self.json_patches = response
            for patch in response:
                print(&#34;patch:&#34;, patch)
                self.state = utils.update_state(self.state, [patch])
                # TODO: Use the custom apply function for more reliablility
            if self.state.__class__.__name__.startswith(&#34;Maybe&#34;):
                self.state = getattr(self.state, self.model.__name__)
            response = to_xml(self.state)  

        except Exception as e:
            print(f&#34;There was an exception in the {self.name}&#34; ,e)
            print(response)
            self.last_error = e
            if self.attempts &lt; self.max_attempts:
                print(f&#34;Retrying {self.name}...&#34;)
                self.clean_assistants()   
                return self.predict()
            else:
                response = None
                print(f&#34;Failed {self.name} after {self.attempts} attempts.&#34;)
        
        self.clean_assistants()
        return response, cost, self.attempts

    def init_run(self):
        self.run = self.client.beta.threads.runs.create(
            thread_id=self.thread.id,
            assistant_id=self.assistant.id,
            tool_choice={&#34;type&#34;: &#34;file_search&#34;, &#34;type&#34;: &#34;function&#34;, &#34;function&#34;: {&#34;name&#34;: &#34;update_json_state&#34;}},
            temperature=0.0,
            )
        
        end_status = [&#34;completed&#34;, &#34;requires_action&#34;, &#34;failed&#34;]
        while self.run.status not in end_status and self.run_iter&lt;self.max_iter:
            self.run_iter += 1
            print(self.run.status)
            time.sleep(5)
            self.run = self.client.beta.threads.runs.retrieve(
                thread_id=self.thread.id,
                run_id=self.run.id
                )
            
        print(self.run.status)
        
    def init_assistant(self):
        self.assistant = self.client.beta.assistants.create(
            name=&#34;OMEGPT&#34;,
            description=self.description,
            instructions=self.instructions,
            model=self.model,
            tools=[{&#34;type&#34;: &#34;file_search&#34;},
                   utils.openai_schema(update_json_state)],
            tool_resources={&#34;file_search&#34;: {&#34;vector_store_ids&#34;: [self.vector_store.id]}}
        )
        self.assistants.append(self.assistant)

    def init_thread(self):
        self.thread = self.client.beta.threads.create(messages=[{&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: self.instructions},
                                                                {&#34;role&#34;: &#34;assistant&#34;, &#34;content&#34;: &#34;.&#34;},
                                                                {&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: self.current_state_message + self.current_state_documentation + self.full_message }])
        self.threads.append(self.thread)

    def init_vector_store(self):
        self.vector_store = self.client.beta.vector_stores.create(
            name=&#34;ome types schema&#34;,
        )
        ome_types_schema_path = &#34;/home/aaron/Documents/Projects/MetaGPT/in/schema/ome_types_schema.json&#34;
        with open(ome_types_schema_path, &#34;w&#34;) as f:
            json.dump(OME.model_json_schema(), f)

        file_paths = [ome_types_schema_path]
        file_streams = [open(path, &#34;rb&#34;) for path in file_paths]

        file_batch = self.client.beta.vector_stores.file_batches.upload_and_poll(
            vector_store_id=self.vector_store.id, files=file_streams
            )
        self.vector_stores.append(self.vector_store)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="metagpt.predictors.predictor_template.PredictorTemplate" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate">PredictorTemplate</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.PredictorState.init_assistant"><code class="name flex">
<span>def <span class="ident">init_assistant</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.PredictorState.init_run"><code class="name flex">
<span>def <span class="ident">init_run</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.PredictorState.init_vector_store"><code class="name flex">
<span>def <span class="ident">init_vector_store</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.PredictorState.predict"><code class="name flex">
<span>def <span class="ident">predict</span></span>(<span>self, indent: Optional[int] = 0) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>TODO: Add docstring</p></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="metagpt.predictors.predictor_template.PredictorTemplate" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate">PredictorTemplate</a></b></code>:
<ul class="hlist">
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.add_attempts" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.add_attempts">add_attempts</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.clean_assistants" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.clean_assistants">clean_assistants</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.export_ome_xml" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.export_ome_xml">export_ome_xml</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.generate_message" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.generate_message">generate_message</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.get_cost" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.get_cost">get_cost</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.get_response" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.get_response">get_response</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.init_thread" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.init_thread">init_thread</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.read_ome_as_string" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.read_ome_as_string">read_ome_as_string</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.read_ome_as_xml" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.read_ome_as_xml">read_ome_as_xml</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.read_raw_metadata" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.read_raw_metadata">read_raw_metadata</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.subdivide_raw_metadata" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.subdivide_raw_metadata">subdivide_raw_metadata</a></code></li>
<li><code><a title="metagpt.predictors.predictor_template.PredictorTemplate.validate" href="predictor_template.html#metagpt.predictors.predictor_template.PredictorTemplate.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="metagpt.predictors.predictor_state.RemoveOperation"><code class="flex name class">
<span>class <span class="ident">RemoveOperation</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Usage docs: <a href="https://docs.pydantic.dev/2.7/concepts/models/">https://docs.pydantic.dev/2.7/concepts/models/</a></p>
<p>A base class for creating Pydantic models.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>__class_vars__</code></strong></dt>
<dd>The names of classvars defined on the model.</dd>
<dt><strong><code>__private_attributes__</code></strong></dt>
<dd>Metadata about the private attributes of the model.</dd>
<dt><strong><code>__signature__</code></strong></dt>
<dd>The signature for instantiating the model.</dd>
<dt><strong><code>__pydantic_complete__</code></strong></dt>
<dd>Whether model building is completed, or if there are still undefined fields.</dd>
<dt><strong><code>__pydantic_core_schema__</code></strong></dt>
<dd>The pydantic-core schema used to build the SchemaValidator and SchemaSerializer.</dd>
<dt><strong><code>__pydantic_custom_init__</code></strong></dt>
<dd>Whether the model has a custom <code>__init__</code> function.</dd>
<dt><strong><code>__pydantic_decorators__</code></strong></dt>
<dd>Metadata containing the decorators defined on the model.
This replaces <code>Model.__validators__</code> and <code>Model.__root_validators__</code> from Pydantic V1.</dd>
<dt><strong><code>__pydantic_generic_metadata__</code></strong></dt>
<dd>Metadata for generic models; contains data used for a similar purpose to
<strong>args</strong>, <strong>origin</strong>, <strong>parameters</strong> in typing-module generics. May eventually be replaced by these.</dd>
<dt><strong><code>__pydantic_parent_namespace__</code></strong></dt>
<dd>Parent namespace of the model, used for automatic rebuilding of models.</dd>
<dt><strong><code>__pydantic_post_init__</code></strong></dt>
<dd>The name of the post-init method for the model, if defined.</dd>
<dt><strong><code>__pydantic_root_model__</code></strong></dt>
<dd>Whether the model is a <code>RootModel</code>.</dd>
<dt><strong><code>__pydantic_serializer__</code></strong></dt>
<dd>The pydantic-core SchemaSerializer used to dump instances of the model.</dd>
<dt><strong><code>__pydantic_validator__</code></strong></dt>
<dd>The pydantic-core SchemaValidator used to validate instances of the model.</dd>
<dt><strong><code>__pydantic_extra__</code></strong></dt>
<dd>An instance attribute with the values of extra fields from validation when
<code>model_config['extra'] == 'allow'</code>.</dd>
<dt><strong><code>__pydantic_fields_set__</code></strong></dt>
<dd>An instance attribute with the names of fields explicitly set.</dd>
<dt><strong><code>__pydantic_private__</code></strong></dt>
<dd>Instance attribute with the values of private attributes set on the model instance.</dd>
</dl>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RemoveOperation(BaseModel):
    op: Literal[&#34;remove&#34;]
    path: str = Field(..., description=&#34;A JSON Pointer path.&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.RemoveOperation.model_computed_fields"><code class="name">var <span class="ident">model_computed_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.RemoveOperation.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.RemoveOperation.model_fields"><code class="name">var <span class="ident">model_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.RemoveOperation.op"><code class="name">var <span class="ident">op</span> : Literal['remove']</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.RemoveOperation.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="metagpt.predictors.predictor_state.update_json_state"><code class="flex name class">
<span>class <span class="ident">update_json_state</span></span>
<span>(</span><span>**data: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>Update the state of the predictor from a list of json patches.</p>
<p>Create a new model by parsing and validating input data from keyword arguments.</p>
<p>Raises [<code>ValidationError</code>][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.</p>
<p><code>self</code> is explicitly positional-only to allow <code>self</code> as a field name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class update_json_state(BaseModel):
    &#34;&#34;&#34;
    Update the state of the predictor from a list of json patches.
    &#34;&#34;&#34;
    json_patches: Optional[list[JsonPatch]] = Field(default_factory=list[JsonPatch], description=&#34;&#34;)
    #no_properties: Optional[bool] = Field(default=False,
                                          #description=&#34;Only fill out if no fitting properties were found in the raw metadata, in this case set this to True. Remember to write upercase True or False as this is a boolean.&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pydantic.main.BaseModel</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="metagpt.predictors.predictor_state.update_json_state.json_patches"><code class="name">var <span class="ident">json_patches</span> : Optional[list[<a title="metagpt.predictors.predictor_state.JsonPatch" href="#metagpt.predictors.predictor_state.JsonPatch">JsonPatch</a>]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.update_json_state.model_computed_fields"><code class="name">var <span class="ident">model_computed_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.update_json_state.model_config"><code class="name">var <span class="ident">model_config</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="metagpt.predictors.predictor_state.update_json_state.model_fields"><code class="name">var <span class="ident">model_fields</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="metagpt.predictors" href="index.html">metagpt.predictors</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation">AddReplaceTestOperation</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_computed_fields" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.model_computed_fields">model_computed_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_config" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.model_config">model_config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.model_fields" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.model_fields">model_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.op" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.op">op</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.path" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.path">path</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.AddReplaceTestOperation.value" href="#metagpt.predictors.predictor_state.AddReplaceTestOperation.value">value</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.JsonPatch" href="#metagpt.predictors.predictor_state.JsonPatch">JsonPatch</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.JsonPatch.Config" href="#metagpt.predictors.predictor_state.JsonPatch.Config">Config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.JsonPatch.model_computed_fields" href="#metagpt.predictors.predictor_state.JsonPatch.model_computed_fields">model_computed_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.JsonPatch.model_config" href="#metagpt.predictors.predictor_state.JsonPatch.model_config">model_config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.JsonPatch.model_fields" href="#metagpt.predictors.predictor_state.JsonPatch.model_fields">model_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.JsonPatch.root" href="#metagpt.predictors.predictor_state.JsonPatch.root">root</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation" href="#metagpt.predictors.predictor_state.MoveCopyOperation">MoveCopyOperation</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.from_" href="#metagpt.predictors.predictor_state.MoveCopyOperation.from_">from_</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.model_computed_fields" href="#metagpt.predictors.predictor_state.MoveCopyOperation.model_computed_fields">model_computed_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.model_config" href="#metagpt.predictors.predictor_state.MoveCopyOperation.model_config">model_config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.model_fields" href="#metagpt.predictors.predictor_state.MoveCopyOperation.model_fields">model_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.op" href="#metagpt.predictors.predictor_state.MoveCopyOperation.op">op</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.MoveCopyOperation.path" href="#metagpt.predictors.predictor_state.MoveCopyOperation.path">path</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.PredictorState" href="#metagpt.predictors.predictor_state.PredictorState">PredictorState</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.PredictorState.init_assistant" href="#metagpt.predictors.predictor_state.PredictorState.init_assistant">init_assistant</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.PredictorState.init_run" href="#metagpt.predictors.predictor_state.PredictorState.init_run">init_run</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.PredictorState.init_vector_store" href="#metagpt.predictors.predictor_state.PredictorState.init_vector_store">init_vector_store</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.PredictorState.predict" href="#metagpt.predictors.predictor_state.PredictorState.predict">predict</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.RemoveOperation" href="#metagpt.predictors.predictor_state.RemoveOperation">RemoveOperation</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.RemoveOperation.model_computed_fields" href="#metagpt.predictors.predictor_state.RemoveOperation.model_computed_fields">model_computed_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.RemoveOperation.model_config" href="#metagpt.predictors.predictor_state.RemoveOperation.model_config">model_config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.RemoveOperation.model_fields" href="#metagpt.predictors.predictor_state.RemoveOperation.model_fields">model_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.RemoveOperation.op" href="#metagpt.predictors.predictor_state.RemoveOperation.op">op</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.RemoveOperation.path" href="#metagpt.predictors.predictor_state.RemoveOperation.path">path</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="metagpt.predictors.predictor_state.update_json_state" href="#metagpt.predictors.predictor_state.update_json_state">update_json_state</a></code></h4>
<ul class="">
<li><code><a title="metagpt.predictors.predictor_state.update_json_state.json_patches" href="#metagpt.predictors.predictor_state.update_json_state.json_patches">json_patches</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.update_json_state.model_computed_fields" href="#metagpt.predictors.predictor_state.update_json_state.model_computed_fields">model_computed_fields</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.update_json_state.model_config" href="#metagpt.predictors.predictor_state.update_json_state.model_config">model_config</a></code></li>
<li><code><a title="metagpt.predictors.predictor_state.update_json_state.model_fields" href="#metagpt.predictors.predictor_state.update_json_state.model_fields">model_fields</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
